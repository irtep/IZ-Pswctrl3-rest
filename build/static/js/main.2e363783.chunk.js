(this.webpackJsonpizpswctrl3=this.webpackJsonpizpswctrl3||[]).push([[0],{28:function(t,e){},60:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(9),c=n.n(a),u=n(6),o=n(16),s=n(2),i=n.n(s),p=(n(29),n(4)),l=n(11),d=n(5),f=n.n(d),b=function(t){var e=Object(r.useState)(""),n=Object(l.a)(e,2),a=n[0],c=n[1],u=Object(r.useState)(""),o=Object(l.a)(u,2),s=o[0],i=o[1];return{type:t,name:s,value:a,onChange:function(t){c(t.target.value),i(t.target.value)}}},j={login:function(){var t=Object(p.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("/api/login",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=[],O=function(t,e){for(var n=0;n<v.length;n++)clearTimeout(v[n]);return function(){var n=Object(p.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(h(t));case 2:v.push(window.setTimeout((function(){r(w())}),1e3*e));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},h=function(t){return{type:"NOTIFICATION",data:t}},w=function(){return{type:"CLEAR",data:""}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"NOTIFICATION":return e.data;case"CLEAR":return"";default:return t}},g=function(t){var e=t.username,n=t.password;return function(){var t=Object(p.a)(i.a.mark((function t(r){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.login({username:e,password:n});case 3:a=t.sent,r(O("welcome: ".concat(e),10)),r({type:"LOGIN",data:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(O("wrong credentials",10));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOGIN":return t.concat([e.data]);case"LOGOUT":default:return t}},y=n(1),k={margin:"10px",padding:"8px",border:"solid 2px yellow",borderRadius:"5px",width:"350px"},I=function(){var t=Object(u.b)(),e=b("text"),n=b("password");return Object(u.c)((function(t){return t.users}))===[]?null:Object(y.jsxs)("div",{style:k,children:["login:",Object(y.jsxs)("form",{onSubmit:function(r){r.preventDefault();var a={user:e.value,password:n.value};t(g(a))},children:["username:",Object(y.jsx)("input",Object(o.a)({},e)),Object(y.jsx)("br",{}),"password:",Object(y.jsx)("input",Object(o.a)({},n)),Object(y.jsx)("br",{}),Object(y.jsx)("button",{className:"blackButtons",children:"submit login"})]})]})},T=function(){var t=Object(u.c)((function(t){return t.notifications}));return Object(y.jsx)("div",{style:{color:"red"},children:t})},A="/api/passwords",N=null,C={getAll:function(){return f.a.get(A).then((function(t){return t.data}))},create:function(){var t=Object(p.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{Authorization:N}},t.next=3,f.a.post(A,e,n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),setToken:function(t){N="bearer ".concat(t)},update:function(t,e,n){var r={field:e,newValue:n};return f.a.put("".concat(A,"/").concat(t),r).then((function(t){return t.data}))},erase:function(t){var e={headers:{Authorization:N}};return f.a.delete("".concat(A,"/").concat(t),e).then((function(t){return t.data}))}},S={backgroundColor:"#1E1B1B",color:"#B3A3A3"},B=function(){var t=Object(u.b)();return Object(r.useEffect)((function(){var e=window.localStorage.getItem("uDetails");if(e){var n=JSON.parse(e);t(g(n)),C.setToken(n.token)}}),[]),Object(y.jsxs)("div",{style:S,children:[Object(y.jsx)(I,{}),Object(y.jsx)(T,{})]})},E=n(7),L=n(26),z=n(27),R=n(28),D=n.n(R),G=Object(E.combineReducers)({users:m,passes:D.a,notifications:x}),J=Object(E.createStore)(G,Object(z.composeWithDevTools)(Object(E.applyMiddleware)(L.a)));n(60);c.a.render(Object(y.jsx)(u.a,{store:J,children:Object(y.jsx)(B,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.2e363783.chunk.js.map